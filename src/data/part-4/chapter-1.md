# –ì–ª–∞–≤–∞ 14. NPM, —Å–±–æ—Ä—â–∏–∫–∏ –∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

## –í–≤–µ–¥–µ–Ω–∏–µ

–ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ ‚Äî —ç—Ç–æ —Ç–æ, —á—Ç–æ –æ—Ç–ª–∏—á–∞–µ—Ç ¬´–∫–æ–¥ –Ω–∞ –Ω–æ—É—Ç–±—É–∫–µ¬ª –æ—Ç –ø—Ä–æ–¥–∞–∫—à–Ω-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è. –ù–∞ —É—Ä–æ–≤–Ω–µ Middle –æ—Ç —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞ –æ–∂–∏–¥–∞—é—Ç –ø–æ–Ω–∏–º–∞–Ω–∏–µ —Ç–æ–≥–æ, –∫–∞–∫ –∂–∏–≤—ë—Ç –ø—Ä–æ–µ–∫—Ç, –∞ –Ω–µ —Ç–æ–ª—å–∫–æ –∫–∞–∫ –ø–∏—à—É—Ç—Å—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã.

–í —ç—Ç–æ–π –≥–ª–∞–≤–µ –º—ã —Ä–∞—Å—Å–º–æ—Ç—Ä–∏–º:

- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏ (npm, pnpm, bun)
- –°—Ç—Ä—É–∫—Ç—É—Ä—É package.json –∏ lock-—Ñ–∞–π–ª—ã
- –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Å–±–æ—Ä—â–∏–∫–∏ (Vite, Webpack, Turbopack)
- –¢—Ä–∞–Ω—Å–ø–∏–ª—è—Ü–∏—é –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—é –∫–æ–¥–∞

---

## –ß–∞—Å—Ç—å 1. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏

### npm, pnpm, bun (2025)

–í—Å–µ —Ç—Ä–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ —Ä–µ—à–∞—é—Ç –æ–¥–Ω—É –∑–∞–¥–∞—á—É: —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏ –∏ —Å–∫—Ä–∏–ø—Ç–∞–º–∏ –ø—Ä–æ–µ–∫—Ç–∞.

#### npm (Node Package Manager)

- –°—Ç–∞–Ω–¥–∞—Ä—Ç –¥–µ-—Ñ–∞–∫—Ç–æ
- –ò–¥—ë—Ç –≤–º–µ—Å—Ç–µ —Å Node.js
- –°–∞–º—ã–π —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—ë–Ω–Ω—ã–π

```bash
npm install react
npm run build
```

**–ù–æ–≤–æ–µ –≤ npm 10+:**

- –£–ª—É—á—à–µ–Ω–Ω–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —É—Å—Ç–∞–Ω–æ–≤–∫–∏
- –í—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ workspaces
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π lockfile merge

#### pnpm

–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç —Å —Ñ–æ–∫—É—Å–æ–º –Ω–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏ –¥–∏—Å–∫–æ–≤–æ–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ.

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç pnpm?**

- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç content-addressable storage
- –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —Ö—Ä–∞–Ω—è—Ç—Å—è –æ–¥–∏–Ω —Ä–∞–∑ –≤ –≥–ª–æ–±–∞–ª—å–Ω–æ–º store
- –ü—Ä–æ–µ–∫—Ç—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç symlinks (–∂—ë—Å—Ç–∫–∏–µ —Å—Å—ã–ª–∫–∏)
- –°—Ç—Ä–æ–≥–∏–π node_modules (–Ω–µ—Ç phantom dependencies)

```bash
pnpm add react
pnpm run build
```

**–ü–ª—é—Å—ã:**

- ‚ö° –í 2-3 —Ä–∞–∑–∞ –±—ã—Å—Ç—Ä–µ–µ npm
- üíæ –≠–∫–æ–Ω–æ–º–∏—Ç –¥–æ 70% –¥–∏—Å–∫–æ–≤–æ–≥–æ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞
- üîí –ù–µ—Ç "phantom dependencies"
- üéØ –ò–¥–µ–∞–ª–µ–Ω –¥–ª—è –º–æ–Ω–æ—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤

#### bun (–Ω–æ–≤—ã–π –∏–≥—Ä–æ–∫)

**Bun** ‚Äî —ç—Ç–æ –≤—Å—ë-–≤-–æ–¥–Ω–æ–º: runtime, bundler, package manager.

```bash
bun install react
bun run build
```

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**

- ‚ö°‚ö°‚ö° –í 10-20 —Ä–∞–∑ –±—ã—Å—Ç—Ä–µ–µ npm
- –ù–∞–ø–∏—Å–∞–Ω –Ω–∞ Zig (–Ω–µ Node.js)
- –°–æ–≤–º–µ—Å—Ç–∏–º —Å npm registry
- –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π bundler –∏ transpiler
- –ù–∞—Ç–∏–≤–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ TypeScript

**–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å (2025):**

```
–£—Å—Ç–∞–Ω–æ–≤–∫–∞ 1000 –ø–∞–∫–µ—Ç–æ–≤:
npm:  ~45s
pnpm: ~18s
bun:  ~2s
```

#### –ö–æ–≥–¥–∞ —á—Ç–æ –≤—ã–±–∏—Ä–∞—Ç—å?

**–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –ø—Ä–æ–µ–∫—Ç** ‚Üí npm (—Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å)

**–ë–æ–ª—å—à–∏–µ –º–æ–Ω–æ—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏** ‚Üí pnpm (—ç–∫–æ–Ω–æ–º–∏—è –º–µ—Å—Ç–∞, —Å—Ç—Ä–æ–≥–æ—Å—Ç—å)

**–ù–æ–≤—ã–µ –ø—Ä–æ–µ–∫—Ç—ã —Å —Ñ–æ–∫—É—Å–æ–º –Ω–∞ —Å–∫–æ—Ä–æ—Å—Ç—å** ‚Üí bun (—ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞–ª—å–Ω–æ)

---

## package.json: —Å–µ—Ä–¥—Ü–µ –ø—Ä–æ–µ–∫—Ç–∞

package.json ‚Äî —ç—Ç–æ –∫–æ–Ω—Ç—Ä–∞–∫—Ç –ø—Ä–æ–µ–∫—Ç–∞.

### –û—Å–Ω–æ–≤–Ω—ã–µ –ø–æ–ª—è

```json
{
  "name": "my-app",
  "version": "1.0.0",
  "type": "module",
  "scripts": {
    "dev": "vite",
    "build": "vite build",
    "preview": "vite preview"
  },
  "dependencies": {
    "react": "^18.3.0"
  },
  "devDependencies": {
    "vite": "^6.0.0",
    "typescript": "^5.7.0"
  },
  "engines": {
    "node": ">=20.0.0"
  }
}
```

### dependencies vs devDependencies

**dependencies:**

- –ù—É–∂–Ω—ã –≤ runtime
- –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç—Å—è –≤ –ø—Ä–æ–¥–∞–∫—à–Ω–µ

**devDependencies:**

- –ù—É–∂–Ω—ã —Ç–æ–ª—å–∫–æ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
- –ù–µ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç—Å—è –≤ –ø—Ä–æ–¥–∞–∫—à–Ω–µ (`npm install --production`)

**–ü—Ä–∏–º–µ—Ä—ã:**

- `react`, `axios` ‚Üí dependencies
- `vite`, `typescript`, `eslint` ‚Üí devDependencies

### peerDependencies

–ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞–º–∏ –¥–ª—è —É–∫–∞–∑–∞–Ω–∏—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏:

```json
{
  "peerDependencies": {
    "react": ">=18.0.0",
    "react-dom": ">=18.0.0"
  }
}
```

**–ó–∞—á–µ–º?**

- –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ React –≤ bundle
- –ì–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å –≤–µ—Ä—Å–∏–π
- –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –æ–¥–∏–Ω —Ä–∞–∑

---

## SemVer (Semantic Versioning)

**–§–æ—Ä–º–∞—Ç:** MAJOR.MINOR.PATCH

**–ü—Ä–∏–º–µ—Ä:** 2.4.1

- **MAJOR** ‚Äî breaking changes (–Ω–µ—Å–æ–≤–º–µ—Å—Ç–∏–º—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è)
- **MINOR** ‚Äî –Ω–æ–≤—ã–µ —Ñ–∏—á–∏ (–æ–±—Ä–∞—Ç–Ω–æ —Å–æ–≤–º–µ—Å—Ç–∏–º—ã–µ)
- **PATCH** ‚Äî –±–∞–≥—Ñ–∏–∫—Å—ã

### –°–∏–º–≤–æ–ª—ã –≤–µ—Ä—Å–∏–π

```json
{
  "react": "^18.3.0", // >=18.3.0 <19.0.0
  "axios": "~1.7.0", // >=1.7.0 <1.8.0
  "lodash": "4.17.21" // —Ç–æ—á–Ω–∞—è –≤–µ—Ä—Å–∏—è
}
```

- **^** (caret) ‚Äî —Ä–∞–∑—Ä–µ—à–∞–µ—Ç MINOR –∏ PATCH –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
- **~** (tilde) ‚Äî —Ç–æ–ª—å–∫–æ PATCH –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
- **–±–µ–∑ —Å–∏–º–≤–æ–ª–∞** ‚Äî —Å—Ç—Ä–æ–≥–æ —É–∫–∞–∑–∞–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è

**–ü–æ—á–µ–º—É —ç—Ç–æ –≤–∞–∂–Ω–æ?**

```javascript
// –ü—Ä–æ–µ–∫—Ç —Ä–∞–±–æ—Ç–∞–ª —Å react@18.2.0
// –ü–æ—Å–ª–µ npm install –ø–æ–ª—É—á–∏–ª–∏ react@18.3.0
// –í—Å—ë —Å–ª–æ–º–∞–ª–æ—Å—å –∏–∑-–∑–∞ –±–∞–≥–∞ –≤ –Ω–æ–≤–æ–π –≤–µ—Ä—Å–∏–∏

// –†–µ—à–µ–Ω–∏–µ: —Ç–æ—á–Ω–∞—è –≤–µ—Ä—Å–∏—è –≤ lock-—Ñ–∞–π–ª–µ
```

---

## Lock-—Ñ–∞–π–ª—ã

- `package-lock.json` (npm)
- `pnpm-lock.yaml` (pnpm)
- `bun.lockb` (bun)

**–ó–∞—á–µ–º –æ–Ω–∏ –Ω—É–∂–Ω—ã?**

- –§–∏–∫—Å–∏—Ä—É—é—Ç **—Ç–æ—á–Ω—ã–µ** –≤–µ—Ä—Å–∏–∏ –≤—Å–µ—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (–≤–∫–ª—é—á–∞—è —Ç—Ä–∞–Ω–∑–∏—Ç–∏–≤–Ω—ã–µ)
- –ì–∞—Ä–∞–Ω—Ç–∏—Ä—É—é—Ç –æ–¥–∏–Ω–∞–∫–æ–≤—É—é —Å–±–æ—Ä–∫—É –Ω–∞ –≤—Å–µ—Ö –º–∞—à–∏–Ω–∞—Ö
- –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã –¥–ª—è –∫–æ–º–º–∏—Ç–∞ –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π

**–ü—Ä–∏–º–µ—Ä –ø—Ä–æ–±–ª–µ–º—ã –±–µ–∑ lock-—Ñ–∞–π–ª–∞:**

```
Developer A:
  react@18.2.0 ‚Üí react-dom@18.2.0

Developer B (–Ω–µ–¥–µ–ª—é —Å–ø—É—Å—Ç—è):
  react@18.3.1 ‚Üí react-dom@18.3.1

–†–∞–∑–Ω—ã–µ –≤–µ—Ä—Å–∏–∏ = —Ä–∞–∑–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ
```

‚ö†Ô∏è **–ü—Ä–∞–≤–∏–ª–æ:** –í—Å–µ–≥–¥–∞ –∫–æ–º–º–∏—Ç—å—Ç–µ lock-—Ñ–∞–π–ª—ã!

---

## –°–∫—Ä–∏–ø—Ç—ã –∏ lifecycle hooks

### –°–∫—Ä–∏–ø—Ç—ã

```json
{
  "scripts": {
    "dev": "vite",
    "build": "tsc && vite build",
    "preview": "vite preview",
    "lint": "eslint src --ext ts,tsx",
    "test": "vitest"
  }
}
```

**–ó–∞–ø—É—Å–∫:**

```bash
npm run dev
# –∏–ª–∏ –∫–æ—Ä–æ—Ç–∫–∏–µ –∫–æ–º–∞–Ω–¥—ã
npm start  # –∞–ª–∏–∞—Å –¥–ª—è "start"
npm test   # –∞–ª–∏–∞—Å –¥–ª—è "test"
```

### Lifecycle hooks

npm –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç —Ö—É–∫–∏:

```json
{
  "scripts": {
    "preinstall": "node check-node-version.js",
    "postinstall": "husky install",
    "prebuild": "rm -rf dist",
    "build": "vite build",
    "postbuild": "node generate-sitemap.js"
  }
}
```

**–ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å:**

```
npm run build
  ‚Üí prebuild
  ‚Üí build
  ‚Üí postbuild
```

**–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è:**

- –ü—Ä–æ–≤–µ—Ä–∫–∏ –≤–µ—Ä—Å–∏–∏ Node.js
- –£—Å—Ç–∞–Ω–æ–≤–∫–∏ git hooks (husky)
- –ì–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Ñ–∞–π–ª–æ–≤
- –û—á–∏—Å—Ç–∫–∏ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π

---

## –ß–∞—Å—Ç—å 2. –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Å–±–æ—Ä—â–∏–∫–∏

### –≠–≤–æ–ª—é—Ü–∏—è —Å–±–æ—Ä—â–∏–∫–æ–≤

```
2015: Webpack (module bundler)
2020: Vite (ESM-based dev server)
2024: Turbopack (Rust-powered, Next.js)
2025: Rspack (Rust, Webpack-compatible)
```

---

## Vite: —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π —Å—Ç–∞–Ω–¥–∞—Ä—Ç

**Vite 6** (2024-2025) ‚Äî –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –Ω–æ–≤–æ–≥–æ –ø–æ–∫–æ–ª–µ–Ω–∏—è –¥–ª—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥-—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏.

### –ü–æ—á–µ–º—É Vite –±—ã—Å—Ç—Ä–µ–µ?

**Dev mode:**

- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç native ES Modules
- –ë–µ–∑ –±–∞–Ω–¥–ª–∏–Ω–≥–∞ –≤ dev
- –°–µ—Ä–≤–µ—Ä –æ—Ç–¥–∞—ë—Ç —Ñ–∞–π–ª—ã –Ω–∞–ø—Ä—è–º—É—é
- HMR (Hot Module Replacement) –Ω–∞ —É—Ä–æ–≤–Ω–µ –º–æ–¥—É–ª–µ–π

**Build:**

- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç Rollup –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–Ω-—Å–±–æ—Ä–∫–∏
- –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∏–∑ –∫–æ—Ä–æ–±–∫–∏
- Tree-shaking –∏ minification –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Vite

```typescript
// vite.config.ts
import { defineConfig } from 'vite'
import react from '@vitejs/plugin-react'
import path from 'path'

export default defineConfig({
  plugins: [react()],
  resolve: {
    alias: {
      '@': path.resolve(__dirname, './src'),
    },
  },
  build: {
    target: 'esnext',
    minify: 'esbuild',
    sourcemap: true,
  },
  server: {
    port: 3000,
    open: true,
  },
})
```

### –ü–ª–∞–≥–∏–Ω—ã Vite

```typescript
import { defineConfig } from 'vite'
import react from '@vitejs/plugin-react'
import svgr from 'vite-plugin-svgr'
import { VitePWA } from 'vite-plugin-pwa'

export default defineConfig({
  plugins: [
    react(),
    svgr(), // SVG –∫–∞–∫ React –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
    VitePWA({ registerType: 'autoUpdate' }), // PWA
  ],
})
```

---

## Webpack: –≤—Å—ë –µ—â—ë –∞–∫—Ç—É–∞–ª–µ–Ω

**Webpack 5** –æ—Å—Ç–∞—ë—Ç—Å—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–æ–º –¥–ª—è —Å–ª–æ–∂–Ω—ã—Ö –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π.

### –ë–∞–∑–æ–≤–∞—è –∫–æ–Ω—Ü–µ–ø—Ü–∏—è

1. **Entry** ‚Äî —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞
2. **Graph** ‚Äî –≥—Ä–∞—Ñ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
3. **Loaders** ‚Äî –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Ñ–∞–π–ª–æ–≤
4. **Plugins** ‚Äî —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ –ª–æ–≥–∏–∫–∏
5. **Output** ‚Äî —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Å–±–æ—Ä–∫–∏

### –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

```javascript
// webpack.config.js
const path = require('path')
const HtmlWebpackPlugin = require('html-webpack-plugin')

module.exports = {
  mode: 'production',
  entry: './src/index.tsx',
  output: {
    filename: '[name].[contenthash].js',
    path: path.resolve(__dirname, 'dist'),
    clean: true,
  },
  module: {
    rules: [
      {
        test: /\.tsx?$/,
        use: 'ts-loader',
        exclude: /node_modules/,
      },
      {
        test: /\.css$/,
        use: ['style-loader', 'css-loader'],
      },
    ],
  },
  plugins: [
    new HtmlWebpackPlugin({
      template: './src/index.html',
    }),
  ],
  resolve: {
    extensions: ['.tsx', '.ts', '.js'],
  },
}
```

### Loaders vs Plugins

**Loader:**

- –¢—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∏—Ä—É–µ—Ç –æ—Ç–¥–µ–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã
- –†–∞–±–æ—Ç–∞—é—Ç —Å–ø—Ä–∞–≤–∞ –Ω–∞–ª–µ–≤–æ –≤ —Ü–µ–ø–æ—á–∫–µ
- –ü—Ä–∏–º–µ—Ä: `ts-loader`, `css-loader`

**Plugin:**

- –†–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ —É—Ä–æ–≤–Ω–µ –≤—Å–µ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞ —Å–±–æ—Ä–∫–∏
- –î–æ—Å—Ç—É–ø –∫ compilation events
- –ü—Ä–∏–º–µ—Ä: `HtmlWebpackPlugin`, `MiniCssExtractPlugin`

---

## Turbopack: –±—É–¥—É—â–µ–µ Next.js

**Turbopack** ‚Äî –Ω–æ–≤—ã–π —Å–±–æ—Ä—â–∏–∫ –æ—Ç Vercel –Ω–∞ Rust.

```javascript
// next.config.js
module.exports = {
  experimental: {
    turbo: {
      loaders: {
        '.svg': ['@svgr/webpack'],
      },
    },
  },
}
```

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**

- ‚ö° –í 10x –±—ã—Å—Ç—Ä–µ–µ Webpack –≤ dev
- –ò–Ω–∫—Ä–µ–º–µ–Ω—Ç–∞–ª—å–Ω–∞—è –∫–æ–º–ø–∏–ª—è—Ü–∏—è
- –í—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ TypeScript, JSX, CSS
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Next.js 14+

**–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:**

```
Cold start (Next.js app):
Webpack: ~12s
Vite:    ~5s
Turbopack: ~1.8s
```

---

## –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å–±–æ—Ä—â–∏–∫–æ–≤ (2025)

| –ö—Ä–∏—Ç–µ—Ä–∏–π         | Vite       | Webpack             | Turbopack   |
| ---------------- | ---------- | ------------------- | ----------- |
| Dev server       | ‚ö°‚ö°‚ö°     | ‚ö°                  | ‚ö°‚ö°‚ö°      |
| –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è     | –ü—Ä–æ—Å—Ç–∞—è    | –°–ª–æ–∂–Ω–∞—è             | –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è |
| Production build | ‚ö°‚ö°       | ‚ö°‚ö°‚ö°              | ‚ö°‚ö°‚ö°      |
| Legacy support   | –û–≥—Ä–∞–Ω–∏—á–µ–Ω–æ | –û—Ç–ª–∏—á–Ω–æ             | –•–æ—Ä–æ—à–æ      |
| –ü–ª–∞–≥–∏–Ω—ã          | –ú–Ω–æ–≥–æ      | –û–≥—Ä–æ–º–Ω–∞—è —ç–∫–æ—Å–∏—Å—Ç–µ–º–∞ | –†–∞—Å—Ç—ë—Ç      |
| –†–∞–∑–º–µ—Ä bundle    | –°—Ä–µ–¥–Ω–∏–π    | –ö–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ–º—ã–π      | –û–ø—Ç–∏–º–∞–ª—å–Ω—ã–π |

**–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:**

**Vite:**

- ‚úÖ –ù–æ–≤—ã–µ –ø—Ä–æ–µ–∫—Ç—ã (React, Vue, Svelte)
- ‚úÖ –ë—ã—Å—Ç—Ä–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞
- ‚úÖ –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –±—Ä–∞—É–∑–µ—Ä—ã

**Webpack:**

- ‚úÖ Legacy –ø—Ä–æ–µ–∫—Ç—ã
- ‚úÖ –°–ª–æ–∂–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ —Å–±–æ—Ä–∫–µ
- ‚úÖ –°–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –ø–ª–∞–≥–∏–Ω—ã

**Turbopack:**

- ‚úÖ Next.js 14+
- ‚úÖ –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- ‚ö†Ô∏è –û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–∞—è —ç–∫–æ—Å–∏—Å—Ç–µ–º–∞ (–ø–æ–∫–∞)

---

## Babel –∏ —Ç—Ä–∞–Ω—Å–ø–∏–ª—è—Ü–∏—è

**Babel** ‚Äî —Ç—Ä–∞–Ω—Å–ø–∏–ª—è—Ç–æ—Ä JavaScript.

### –ó–∞—á–µ–º –Ω—É–∂–µ–Ω?

–ü—Ä–µ–≤—Ä–∞—â–∞–µ—Ç —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π JavaScript –≤ –∫–æ–¥ –¥–ª—è —Å—Ç–∞—Ä—ã—Ö –±—Ä–∞—É–∑–µ—Ä–æ–≤:

```javascript
// –ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ (ES2024)
const sum = (a, b) => a + b
const result = numbers?.find((n) => n > 10)

// –ü–æ—Å–ª–µ Babel (ES5)
var sum = function (a, b) {
  return a + b
}
var result =
  numbers &&
  numbers.find(function (n) {
    return n > 10
  })
```

### Presets

```json
{
  "presets": [
    [
      "@babel/preset-env",
      {
        "targets": {
          "browsers": [">0.25%", "not dead"]
        },
        "useBuiltIns": "usage",
        "corejs": 3
      }
    ],
    "@babel/preset-react",
    "@babel/preset-typescript"
  ]
}
```

### Polyfills

**Babel** —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∏—Ä—É–µ—Ç —Ç–æ–ª—å–∫–æ **—Å–∏–Ω—Ç–∞–∫—Å–∏—Å**.

–î–ª—è **API** –Ω—É–∂–Ω—ã polyfills:

```javascript
// –ë–µ–∑ polyfill ‚Äî –æ—à–∏–±–∫–∞ –≤ IE11
const hasValue = array.includes(5)
const promise = Promise.resolve(42)

// –° polyfill —Ä–∞–±–æ—Ç–∞–µ—Ç –≤–µ–∑–¥–µ
import 'core-js/stable'
import 'regenerator-runtime/runtime'
```

**–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –ø–æ–¥—Ö–æ–¥ (Vite):**

Polyfills –Ω–µ –Ω—É–∂–Ω—ã! Vite –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –¥–≤–∞ bundle:

1. **Modern** (ES2020+) ‚Äî –¥–ª—è –Ω–æ–≤—ã—Ö –±—Ä–∞—É–∑–µ—Ä–æ–≤
2. **Legacy** (ES5) ‚Äî –¥–ª—è —Å—Ç–∞—Ä—ã—Ö (—Å polyfills)

---

## Tree Shaking

–£–¥–∞–ª–µ–Ω–∏–µ –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º–æ–≥–æ –∫–æ–¥–∞ –∏–∑ –±–∞–Ω–¥–ª–∞.

### –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç?

```javascript
// math.js
export const sum = (a, b) => a + b
export const multiply = (a, b) => a * b
export const divide = (a, b) => a / b

// app.js
import { sum } from './math'
console.log(sum(2, 3))

// –í bundle –ø–æ–ø–∞–¥—ë—Ç —Ç–æ–ª—å–∫–æ sum
// multiply –∏ divide –±—É–¥—É—Ç —É–¥–∞–ª–µ–Ω—ã
```

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –¥–ª—è tree-shaking

1. **ES Modules** (–Ω–µ CommonJS)
2. **–°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ –∏–º–ø–æ—Ä—Ç—ã** (–Ω–µ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ)
3. **Side-effect free** –∫–æ–¥

```javascript
// ‚ùå –ü–ª–æ—Ö–æ: CommonJS ‚Äî –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç tree-shaking
const { sum } = require('./math')

// ‚úÖ –•–æ—Ä–æ—à–æ: ES Modules
import { sum } from './math'
```

### Side Effects

```json
// package.json
{
  "sideEffects": false  // –Ω–µ—Ç side-effects, –º–æ–∂–Ω–æ —Å–º–µ–ª–æ tree-shake
}

// –ò–ª–∏ —É–∫–∞–∑—ã–≤–∞–µ–º —Ñ–∞–π–ª—ã —Å side-effects
{
  "sideEffects": ["*.css", "*.scss", "src/polyfills.js"]
}
```

---

## Code Splitting

–†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –∫–æ–¥–∞ –Ω–∞ —á–∞–Ω–∫–∏ –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –∑–∞–≥—Ä—É–∑–∫–∏.

### –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –∏–º–ø–æ—Ä—Ç

```typescript
// –í–º–µ—Å—Ç–æ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –∏–º–ø–æ—Ä—Ç–∞
import HeavyComponent from './HeavyComponent';

// –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –∏–º–ø–æ—Ä—Ç (lazy loading)
const HeavyComponent = lazy(() => import('./HeavyComponent'));

function App() {
  return (
    <Suspense fallback={<div>Loading...</div>}>
      <HeavyComponent />
    </Suspense>
  );
}
```

### Route-based splitting

```typescript
// router.tsx
import { lazy } from 'react';

const HomePage = lazy(() => import('./pages/HomePage'));
const AboutPage = lazy(() => import('./pages/AboutPage'));
const DashboardPage = lazy(() => import('./pages/DashboardPage'));

const routes = [
  { path: '/', element: <HomePage /> },
  { path: '/about', element: <AboutPage /> },
  { path: '/dashboard', element: <DashboardPage /> },
];
```

### Vendor splitting

```javascript
// vite.config.ts
export default defineConfig({
  build: {
    rollupOptions: {
      output: {
        manualChunks: {
          'vendor-react': ['react', 'react-dom'],
          'vendor-router': ['react-router-dom'],
          'vendor-ui': [
            '@radix-ui/react-dialog',
            '@radix-ui/react-dropdown-menu',
          ],
        },
      },
    },
  },
})
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**

- üì¶ –ú–µ–Ω—å—à–µ –Ω–∞—á–∞–ª—å–Ω—ã–π –±–∞–Ω–¥–ª
- ‚ö° –ë—ã—Å—Ç—Ä–µ–µ –∑–∞–≥—Ä—É–∑–∫–∞
- üéØ –õ—É—á—à–∏–π Core Web Vitals
- üîÑ –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ vendor –∫–æ–¥–∞

---

## –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –±–∞–Ω–¥–ª–∞

### –ê–Ω–∞–ª–∏–∑ —Ä–∞–∑–º–µ—Ä–∞

```bash
# Vite
npm run build
npx vite-bundle-visualizer

# Webpack
npx webpack-bundle-analyzer dist/stats.json
```

### –°—Ç—Ä–∞—Ç–µ–≥–∏–∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

```typescript
// 1. –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –∏–º–ø–æ—Ä—Ç—ã –¥–ª—è —Ç—è–∂—ë–ª—ã—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫
const Chart = lazy(() => import('react-chartjs-2'))

// 2. –ò–º–ø–æ—Ä—Ç —Ç–æ–ª—å–∫–æ –Ω—É–∂–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π
import { debounce } from 'lodash-es/debounce' // ‚úÖ
import _ from 'lodash' // ‚ùå –≤–µ—Å—å lodash

// 3. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ lighter –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã
import dayjs from 'dayjs' // 2KB
// –≤–º–µ—Å—Ç–æ moment.js // 70KB

// 4. Code splitting –ø–æ —Ä–æ—É—Ç–∞–º
const Dashboard = lazy(() => import('./Dashboard'))
```

---

## –ú–æ–Ω–æ—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏

### Turborepo (—Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π —Å—Ç–∞–Ω–¥–∞—Ä—Ç)

```json
// turbo.json
{
  "pipeline": {
    "build": {
      "dependsOn": ["^build"],
      "outputs": ["dist/**"]
    },
    "test": {
      "dependsOn": ["build"],
      "cache": false
    }
  }
}
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**

- ‚ö° –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–µ –∑–∞–¥–∞—á–∏
- üéØ –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
- üì¶ –ò–Ω–∫—Ä–µ–º–µ–Ω—Ç–∞–ª—å–Ω—ã–µ —Å–±–æ—Ä–∫–∏

### pnpm workspaces

```yaml
# pnpm-workspace.yaml
packages:
  - 'apps/*'
  - 'packages/*'
```

```json
// package.json
{
  "dependencies": {
    "@repo/ui": "workspace:*"
  }
}
```

---

## Best Practices

### 1. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã

```bash
# ‚ùå –°—Ç–∞—Ä—ã–π —Å—Ç–µ–∫
webpack + babel + npm

# ‚úÖ –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π —Å—Ç–µ–∫
vite + esbuild + pnpm
```

### 2. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ Git-—Ö—É–∫–∏

```json
{
  "scripts": {
    "prepare": "husky install"
  },
  "devDependencies": {
    "husky": "^9.0.0",
    "lint-staged": "^15.0.0"
  }
}
```

```javascript
// .husky/pre-commit
npm run lint
npm run type-check
```

### 3. –í–µ—Ä—Å–∏–æ–Ω–∏—Ä—É–π—Ç–µ Node.js

```json
// .nvmrc
20.11.0

// package.json
{
  "engines": {
    "node": ">=20.0.0",
    "pnpm": ">=9.0.0"
  }
}
```

### 4. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

```bash
# .env
VITE_API_URL=https://api.example.com
VITE_APP_VERSION=$npm_package_version
```

```typescript
const apiUrl = import.meta.env.VITE_API_URL
```

---

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

**–°–æ–≤—Ä–µ–º–µ–Ω–Ω–∞—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞ (2025):**

- üì¶ **Package Manager**: pnpm (–∏–ª–∏ bun –¥–ª—è —Å–∫–æ—Ä–æ—Å—Ç–∏)
- ‚ö° **Dev Server**: Vite 6 (–º–≥–Ω–æ–≤–µ–Ω–Ω—ã–π HMR)
- üèóÔ∏è **Build Tool**: Rollup —á–µ—Ä–µ–∑ Vite (tree-shaking –∏–∑ –∫–æ—Ä–æ–±–∫–∏)
- üîß **Transpiler**: esbuild (–≤—Å—Ç—Ä–æ–µ–Ω –≤ Vite)
- üéØ **–ú–æ–Ω–æ—Ä–µ–ø–æ**: Turborepo + pnpm workspaces

**–ö–ª—é—á–µ–≤—ã–µ takeaways:**

1. Lock-—Ñ–∞–π–ª—ã ‚Äî –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã –¥–ª—è —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏
2. Vite ‚Äî —Å—Ç–∞–Ω–¥–∞—Ä—Ç –¥–ª—è –Ω–æ–≤—ã—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤
3. Tree-shaking —Ç—Ä–µ–±—É–µ—Ç ES Modules
4. Code splitting –∫—Ä–∏—Ç–∏—á–µ–Ω –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
5. pnpm —ç–∫–æ–Ω–æ–º–∏—Ç –º–µ—Å—Ç–æ –∏ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç phantom dependencies

–í —Å–ª–µ–¥—É—é—â–µ–π –≥–ª–∞–≤–µ –º—ã —Ä–∞—Å—Å–º–æ—Ç—Ä–∏–º **—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** ‚Äî –∫–∞–∫ unit, integration –∏ E2E-—Ç–µ—Å—Ç—ã –≤—Å—Ç—Ä–∞–∏–≤–∞—é—Ç—Å—è –≤ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø—Ä–æ–µ–∫—Ç–∞.
