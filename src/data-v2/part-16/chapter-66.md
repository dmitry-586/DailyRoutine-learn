# Глава 66. Собеседование: подготовка и поведение

Собеседование — это не экзамен, а диалог о том, как вы решаете задачи.

---

## 66.1. Подготовка

- Подготовь 2–3 проекта, о которых можешь говорить уверенно.
- Разбери типовые вопросы: сети, JS, React, архитектура.
- Прогони рассказ «что делал» по формуле: задача → действие → результат.

---

## 66.2. Поведение на встрече

- Сначала уточняй требования, потом отвечай.
- Если не знаешь — скажи честно и объясни, как бы искал решение.
- Думай вслух, интервьюер оценивает логику.

---

## 66.3. Структура ответа

Хорошая структура помогает выглядеть увереннее:

1. Уточнить вводные.
2. Предложить решение.
3. **Архитектурный диалог для Middle+:** объясни, почему выбран конкретный инструмент. Не просто «я использовал Zustand», а «Zustand подошёл лучше Redux в этом контексте, потому что меньше бойлерплейта и проще для PoC». Покажи понимание компромиссов и принципа **«Everything is a Trade-off»**.
4. Обсудить риски и ограничения.
5. Подвести итог.

---

## 66.4. Технические задания

- Сначала проясни требования.
- Оцени время и сложность.
- Покажи промежуточный результат.
- Поясни принятые решения.

Это важнее «идеального» кода.

---

## 66.5. Общение и софт-скиллы

- Не спорь ради спора.
- Если считаешь иначе — аргументируй спокойно.
- Уважай время интервьюера.

---

## 66.6. Типичные ошибки кандидатов

- Отвечают, не уточнив условия.
- Слишком уходят в детали и забывают цель.
- Не признают, что чего-то не знают.

Честность и ясность почти всегда выигрывают.

---

## 66.7. HR-блок

- Говори про мотивацию и цели честно.
- Не критикуй прошлую команду.
- Объясняй, что ищешь и почему.

---

## 66.8. Вопросы интервьюеру

- Какие задачи будут в первые 1–3 месяца.
- Как устроены процессы и ревью.
- Как принимаются технические решения.

Хорошие вопросы показывают зрелость.

---

## 66.9. Зарплатные ожидания

- Назови диапазон, а не одну цифру.
- Обоснуй опытом и рынком.
- Не занижай себя «на всякий случай».

---

## 66.10. Фоллоу-ап после интервью

- Отправь короткое спасибо за встречу.
- Уточни сроки решения.
- Сохрани контакт на будущее.

---

## 66.11. Удалённые интервью

- Проверь звук и камеру заранее.
- Держи под рукой короткие заметки.
- Убедись, что связь стабильна.

---

## 66.12. Актуальность TanStack Query v5

**Breaking Changes, которые важно знать:**

- **`cacheTime` → `gcTime`:** переименован для ясности (Garbage Collection Time). Интервьюер может спросить про `cacheTime`, и правильный ответ — в v5 он переименован в `gcTime`.
- **`isLoading` → `isPending`:** переименован для более точного описания состояния. `isPending` показывает первую загрузку (данных ещё нет в кэше), `isFetching` — любую загрузку, включая фоновую.

**Почему это важно:** знание breaking changes показывает, что вы следите за обновлениями библиотек и понимаете эволюцию инструментов.

---

## 66.13. Безопасность Next.js

**Вопрос-ловушка про секреты:**

Все переменные **без префикса `NEXT_PUBLIC_`** доступны только на сервере — это база безопасности в App Router. Переменные с `NEXT_PUBLIC_` попадают в клиентский бандл и видны всем.

**Пример:**
```typescript
// .env.local
DATABASE_URL=secret://... // Только на сервере
NEXT_PUBLIC_API_URL=https://api.example.com // В клиентском бандле
```

**Правило:** никогда не используй `NEXT_PUBLIC_` для секретов (API ключи, токены, пароли БД).

---

## 66.14. Разбор Hydration Error

**Что это:** несоответствие HTML на сервере и клиенте. Одна из самых частых тем на интервью по Next.js.

**Причина:** компонент рендерится по-разному на сервере и клиенте (например, использует `localStorage`, `window`, или зависит от времени).

**Решение 1: useEffect**
```typescript
const [mounted, setMounted] = useState(false)

useEffect(() => {
  setMounted(true)
}, [])

if (!mounted) return <div>Loading...</div>
// Клиент-специфичный контент
```

**Решение 2: Условный рендеринг**
```typescript
return (
  <div>
    <p>Always visible</p>
    {mounted && <p>Client only</p>}
  </div>
)
```

**Важно:** всегда рендери одинаковый HTML на сервере и клиенте, а клиент-специфичный контент показывай только после монтирования.
