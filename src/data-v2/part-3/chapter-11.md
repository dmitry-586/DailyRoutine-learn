# Глава 11. Доступность (a11y): минимальный набор для фронтенда

Доступность — это не “отдельная фича”, а свойство интерфейса: им можно пользоваться мышью, клавиатурой и с ассистивными технологиями. На собеседованиях чаще всего ждут **здравый подход**: использовать семантику HTML, не ломать клавиатуру, не злоупотреблять ARIA и уметь объяснить фокус в модалках.

---

## 11.1. Главный принцип: сначала семантика, потом ARIA

Самое надёжное для доступности — **нативные элементы** и правильная структура:

- кнопки — это `<button>`, ссылки — `<a>`, поля — `<input>` + `<label>`,
- группировка и заголовки — семантическими тегами, где это уместно.

ARIA нужна как “донастройка”, когда:

- вы строите **кастомный компонент**, которого нет в HTML (сложный dropdown, combo box),
- нужно сообщить **состояние** (раскрыто/закрыто, выбрано/не выбрано),
- нужно корректно озвучить интерфейс в нестандартном кейсе.

Если задачу можно решить нативным элементом — **так и надо делать**. Это проще и почти всегда работает лучше.

---

## 11.2. Клавиатура: интерфейс должен быть usable без мыши

Минимальное ожидание от любого UI:

- `Tab` переводит фокус по интерактивным элементам в логичном порядке,
- `Enter`/`Space` активируют кнопки и элементы управления,
- `Escape` закрывает диалоги/попапы,
- фокус не “теряется” и не “застревает”.

Отсюда практическое правило: чем больше вы заменяете нативные элементы на `div`, тем больше вы берёте на себя — роль, фокусируемость, управление с клавиатуры и корректные состояния для читалок.

---

## 11.3. Фокус и модальные окна (самое частое на практике)

В модалках важны три вещи:

- при открытии **перевести фокус внутрь** (обычно на заголовок, поле ввода или первую кнопку),
- **не выпускать фокус наружу**, пока модалка открыта (focus trap),
- при закрытии **вернуть фокус** туда, где пользователь был до открытия.

Ещё одно важное правило: не убирайте видимый индикатор фокуса “просто потому что некрасиво”. Если outline меняете, то делайте **равноценную замену**.

---

## 11.4. ARIA, которую достаточно знать для собеседований

Обычно хватает пары понятий и 3–4 атрибутов:

- `aria-label` — задаёт элементу имя напрямую (когда нет видимого текста).
- `aria-labelledby` — задаёт имя ссылкой на уже существующий текст (например, на заголовок).
- `aria-describedby` — связывает элемент с пояснением/ошибкой.
- `aria-expanded` — сообщает состояние раскрытия (меню, аккордеон).

Для диалога важно понимать идею: элемент должен быть обозначен как диалог (например, `role="dialog"`), а контент — иметь имя (заголовок) и корректный фокус.

---

## 11.5. Типичные ошибки (коротко)

- добавляют роли “для галочки” там, где семантика уже есть (например, `role="button"` на `<button>`),
- делают кнопку из `div` и забывают про клавиатуру,
- скрывают важный текст без альтернативы (иконка без подписи),
- прячут интерактивные элементы от читалок неправильно (используют `aria-hidden` не по назначению).

---

## Вопросы на собеседовании

1. Когда нужна ARIA?  
   Когда нативной семантики недостаточно: вы строите кастомный компонент или нужно донести состояние (раскрыто/закрыто, выбрано/не выбрано) для ассистивных технологий. Важно правило: если можно использовать нативный элемент — лучше использовать его, потому что вместе с ним “бесплатно” идут клавиатура, роли и предсказуемое поведение.

2. Почему `<button>` лучше, чем `<div role="button">`?  
   `<button>` из коробки фокусируется, активируется с клавиатуры (Enter/Space) и понятен ассистивным технологиям. Когда вы делаете “кнопку” из `div`, вы обязаны вручную обеспечить фокусируемость, управление с клавиатуры и правильные состояния. На практике такие элементы часто работают “для мыши”, но ломаются для клавиатуры и screen reader.

3. Что важно в модальном окне?  
   Управление фокусом: при открытии фокус должен оказаться внутри, во время работы фокус не должен “убегать” наружу (focus trap), а при закрытии фокус нужно вернуть туда, где пользователь был до открытия. Также ожидается возможность закрыть модалку с клавиатуры (`Escape`).
