# ╨ô╨╗╨░╨▓╨░ 52. Server state ╨╕ client state

╨á╨░╨╖╨┤╨╡╨╗╨╡╨╜╨╕╨╡ Server State ╨╕ Client State ΓÇö ╤ä╤â╨╜╨┤╨░╨╝╨╡╨╜╤é╨░╨╗╤î╨╜╤ï╨╣ ╨┐╤Ç╨╕╨╜╤å╨╕╨┐ ╤ü╨╛╨▓╤Ç╨╡╨╝╨╡╨╜╨╜╨╛╨╣ ╨░╤Ç╤à╨╕╤é╨╡╨║╤é╤â╤Ç╤ï React-╨┐╤Ç╨╕╨╗╨╛╨╢╨╡╨╜╨╕╨╣. ╨ƒ╨╛╨╜╨╕╨╝╨░╨╜╨╕╨╡ ╤Ç╨░╨╖╨╗╨╕╤ç╨╕╨╣ ╨║╤Ç╨╕╤é╨╕╤ç╨╜╨╛ ╨┤╨╗╤Å ╨▓╤ï╨▒╨╛╤Ç╨░ ╨┐╤Ç╨░╨▓╨╕╨╗╤î╨╜╤ï╤à ╨╕╨╜╤ü╤é╤Ç╤â╨╝╨╡╨╜╤é╨╛╨▓ ╨╕ ╨┐╨░╤é╤é╨╡╤Ç╨╜╨╛╨▓.

---

## 52.1. Client State

**Client State** ΓÇö ╤ì╤é╨╛ ╤ü╨╛╤ü╤é╨╛╤Å╨╜╨╕╨╡, ╨║╨╛╤é╨╛╤Ç╨╛╨╡ ╨║╨╛╨╜╤é╤Ç╨╛╨╗╨╕╤Ç╤â╨╡╤é╤ü╤Å ╨┐╤Ç╨╕╨╗╨╛╨╢╨╡╨╜╨╕╨╡╨╝ ╨╕ ╤ü╤â╤ë╨╡╤ü╤é╨▓╤â╨╡╤é ╤é╨╛╨╗╤î╨║╨╛ ╨▓ ╨▒╤Ç╨░╤â╨╖╨╡╤Ç╨╡.

### ╨Ñ╨░╤Ç╨░╨║╤é╨╡╤Ç╨╕╤ü╤é╨╕╨║╨╕

- **╨í╨╕╨╜╤à╤Ç╨╛╨╜╨╜╤ï╨╣** ΓÇö ╨┤╨╛╤ü╤é╤â╨┐╨╡╨╜ ╤ü╤Ç╨░╨╖╤â, ╨╜╨╡ ╤é╤Ç╨╡╨▒╤â╨╡╤é ╨░╤ü╨╕╨╜╤à╤Ç╨╛╨╜╨╜╤ï╤à ╨╛╨┐╨╡╤Ç╨░╤å╨╕╨╣
- **╨Ü╨╛╨╜╤é╤Ç╨╛╨╗╨╕╤Ç╤â╨╡╤é╤ü╤Å ╨┐╤Ç╨╕╨╗╨╛╨╢╨╡╨╜╨╕╨╡╨╝** ΓÇö ╨┐╨╛╨╗╨╜╨╛╤ü╤é╤î╤Ä ╨┐╨╛╨┤ ╨╜╨░╤ê╨╕╨╝ ╨║╨╛╨╜╤é╤Ç╨╛╨╗╨╡╨╝
- **╨¥╨╡ ╤â╤ü╤é╨░╤Ç╨╡╨▓╨░╨╡╤é** ΓÇö ╨┤╨░╨╜╨╜╤ï╨╡ ╨░╨║╤é╤â╨░╨╗╤î╨╜╤ï, ╨┐╨╛╨║╨░ ╨╝╤ï ╨╕╤à ╨╜╨╡ ╨╕╨╖╨╝╨╡╨╜╨╕╨╝
- **╨¥╨╡ ╤é╤Ç╨╡╨▒╤â╨╡╤é ╨║╨╡╤ê╨╕╤Ç╨╛╨▓╨░╨╜╨╕╤Å** ΓÇö ╨┤╨░╨╜╨╜╤ï╨╡ ╨▓╤ü╨╡╨│╨┤╨░ ╨▓ ╨┐╨░╨╝╤Å╤é╨╕

### ╨ƒ╤Ç╨╕╨╝╨╡╤Ç╤ï Client State

**╨ó╨╕╨┐╨╕╤ç╨╜╤ï╨╡ ╤ü╨╗╤â╤ç╨░╨╕ ╨╕╤ü╨┐╨╛╨╗╤î╨╖╨╛╨▓╨░╨╜╨╕╤Å:**

- UI ╤ü╨╛╤ü╤é╨╛╤Å╨╜╨╕╨╡ (╨╝╨╛╨┤╨░╨╗╤î╨╜╤ï╨╡ ╨╛╨║╨╜╨░, ╤ü╨░╨╣╨┤╨▒╨░╤Ç╤ï, ╤é╨░╨▒╤ï)
- ╨ó╨╡╨╝╨░ ╨┐╤Ç╨╕╨╗╨╛╨╢╨╡╨╜╨╕╤Å
- ╨¢╨╛╨║╨░╨╗╤î╨╜╤ï╨╡ ╤ä╨╕╨╗╤î╤é╤Ç╤ï ╨╕ ╤ü╨╛╤Ç╤é╨╕╤Ç╨╛╨▓╨║╨░
- ╨Æ╤Ç╨╡╨╝╨╡╨╜╨╜╨╛╨╡ ╤ü╨╛╤ü╤é╨╛╤Å╨╜╨╕╨╡ ╤ä╨╛╤Ç╨╝ (╨┤╨╛ ╨╛╤é╨┐╤Ç╨░╨▓╨║╨╕)
- ╨í╨╛╤ü╤é╨╛╤Å╨╜╨╕╨╡ ╨░╨╜╨╕╨╝╨░╤å╨╕╨╣

### ╨ÿ╨╜╤ü╤é╤Ç╤â╨╝╨╡╨╜╤é╤ï ╨┤╨╗╤Å Client State

- **useState** ΓÇö ╨╗╨╛╨║╨░╨╗╤î╨╜╨╛╨╡ ╤ü╨╛╤ü╤é╨╛╤Å╨╜╨╕╨╡ ╨║╨╛╨╝╨┐╨╛╨╜╨╡╨╜╤é╨░
- **useReducer** ΓÇö ╤ü╨╗╨╛╨╢╨╜╨╛╨╡ ╨╗╨╛╨║╨░╨╗╤î╨╜╨╛╨╡ ╤ü╨╛╤ü╤é╨╛╤Å╨╜╨╕╨╡
- **Context API** ΓÇö ╨┐╤Ç╨╛╤ü╤é╨╛╨╡ ╨│╨╗╨╛╨▒╨░╨╗╤î╨╜╨╛╨╡ ╤ü╨╛╤ü╤é╨╛╤Å╨╜╨╕╨╡ (╤é╨╡╨╝╨░, ╤Å╨╖╤ï╨║)
- **Zustand** ΓÇö ╨│╨╗╨╛╨▒╨░╨╗╤î╨╜╨╛╨╡ ╤ü╨╛╤ü╤é╨╛╤Å╨╜╨╕╨╡ ╤ü ╨╗╤â╤ç╤ê╨╡╨╣ ╨┐╤Ç╨╛╨╕╨╖╨▓╨╛╨┤╨╕╤é╨╡╨╗╤î╨╜╨╛╤ü╤é╤î╤Ä
- **Jotai/Recoil** ΓÇö ╨░╤é╨╛╨╝╨░╤Ç╨╜╨╛╨╡ ╤ü╨╛╤ü╤é╨╛╤Å╨╜╨╕╨╡

---

## 52.2. Server State

**Server State** ΓÇö ╤ì╤é╨╛ ╨┤╨░╨╜╨╜╤ï╨╡, ╨║╨╛╤é╨╛╤Ç╤ï╨╡ ╨┐╤Ç╨╕╤à╨╛╨┤╤Å╤é ╤ü ╤ü╨╡╤Ç╨▓╨╡╤Ç╨░ ╨╕ ╨╝╨╛╨│╤â╤é ╤â╤ü╤é╨░╤Ç╨╡╤é╤î.

### ╨Ñ╨░╤Ç╨░╨║╤é╨╡╤Ç╨╕╤ü╤é╨╕╨║╨╕

- **╨É╤ü╨╕╨╜╤à╤Ç╨╛╨╜╨╜╤ï╨╣** ΓÇö ╤é╤Ç╨╡╨▒╤â╨╡╤é ╨╖╨░╨┐╤Ç╨╛╤ü╨╛╨▓ ╨║ API
- **╨£╨╛╨╢╨╡╤é ╤â╤ü╤é╨░╤Ç╨╡╤é╤î** ΓÇö ╨┤╨░╨╜╨╜╤ï╨╡ ╨╜╨░ ╤ü╨╡╤Ç╨▓╨╡╤Ç╨╡ ╨╝╨╛╨│╤â╤é ╨╕╨╖╨╝╨╡╨╜╨╕╤é╤î╤ü╤Å
- **╨ó╤Ç╨╡╨▒╤â╨╡╤é ╨║╨╡╤ê╨╕╤Ç╨╛╨▓╨░╨╜╨╕╤Å** ΓÇö ╤ç╤é╨╛╨▒╤ï ╨╜╨╡ ╨┤╨╡╨╗╨░╤é╤î ╨╗╨╕╤ê╨╜╨╕╨╡ ╨╖╨░╨┐╤Ç╨╛╤ü╤ï
- **╨ó╤Ç╨╡╨▒╤â╨╡╤é ╤ü╨╕╨╜╤à╤Ç╨╛╨╜╨╕╨╖╨░╤å╨╕╨╕** ΓÇö ╨╜╤â╨╢╨╜╨╛ ╨╛╨▒╨╜╨╛╨▓╨╗╤Å╤é╤î ╨┐╤Ç╨╕ ╨╕╨╖╨╝╨╡╨╜╨╡╨╜╨╕╤Å╤à
- **╨ó╤Ç╨╡╨▒╤â╨╡╤é ╤ä╨╛╨╜╨╛╨▓╤ï╤à ╨╛╨▒╨╜╨╛╨▓╨╗╨╡╨╜╨╕╨╣** ΓÇö ╨┤╨╗╤Å ╨░╨║╤é╤â╨░╨╗╤î╨╜╨╛╤ü╤é╨╕ ╨┤╨░╨╜╨╜╤ï╤à

### ╨ƒ╨╛╤ç╨╡╨╝╤â useState ╨╜╨╡ ╨┐╨╛╨┤╤à╨╛╨┤╨╕╤é ╨┤╨╗╤Å Server State

╨Ü╨╛╨│╨┤╨░ ╤Ç╨░╨╖╤Ç╨░╨▒╨╛╤é╤ç╨╕╨║╨╕ ╨╕╤ü╨┐╨╛╨╗╤î╨╖╤â╤Ä╤é `useState` ╨┤╨╗╤Å ╤ü╨╡╤Ç╨▓╨╡╤Ç╨╜╤ï╤à ╨┤╨░╨╜╨╜╤ï╤à, ╨╛╨╜╨╕ ╤ü╤é╨░╨╗╨║╨╕╨▓╨░╤Ä╤é╤ü╤Å ╤ü ╨╝╨╜╨╛╨╢╨╡╤ü╤é╨▓╨╛╨╝ ╨┐╤Ç╨╛╨▒╨╗╨╡╨╝:

- **╨¥╨╡╤é ╨║╨╡╤ê╨╕╤Ç╨╛╨▓╨░╨╜╨╕╤Å** ΓÇö ╨║╨░╨╢╨┤╤ï╨╣ ╨║╨╛╨╝╨┐╨╛╨╜╨╡╨╜╤é ╨┤╨╡╨╗╨░╨╡╤é ╤ü╨▓╨╛╨╣ ╨╖╨░╨┐╤Ç╨╛╤ü
- **╨¥╨╡╤é ╤ü╨╕╨╜╤à╤Ç╨╛╨╜╨╕╨╖╨░╤å╨╕╨╕** ΓÇö ╨╕╨╖╨╝╨╡╨╜╨╡╨╜╨╕╤Å ╨▓ ╨╛╨┤╨╜╨╛╨╝ ╨╝╨╡╤ü╤é╨╡ ╨╜╨╡ ╨▓╨╕╨┤╨╜╤ï ╨▓ ╨┤╤Ç╤â╨│╨╛╨╝
- **╨£╨╜╨╛╨│╨╛ ╨▒╨╛╨╣╨╗╨╡╤Ç╨┐╨╗╨╡╨╣╤é╨░** ΓÇö ╨╜╤â╨╢╨╜╨╛ ╨┐╨╕╤ü╨░╤é╤î loading, error, retry ╨╗╨╛╨│╨╕╨║╤â ╨▓╤Ç╤â╤ç╨╜╤â╤Ä
- **╨¥╨╡╤é ╤ä╨╛╨╜╨╛╨▓╤ï╤à ╨╛╨▒╨╜╨╛╨▓╨╗╨╡╨╜╨╕╨╣** ΓÇö ╨┤╨░╨╜╨╜╤ï╨╡ ╤â╤ü╤é╨░╤Ç╨╡╨▓╨░╤Ä╤é
- **╨¥╨╡╤é optimistic updates** ΓÇö UI ╤é╨╛╤Ç╨╝╨╛╨╖╨╕╤é ╨┐╤Ç╨╕ ╨╛╨╢╨╕╨┤╨░╨╜╨╕╨╕ ╤ü╨╡╤Ç╨▓╨╡╤Ç╨░

╨¡╤é╨╕ ╨┐╤Ç╨╛╨▒╨╗╨╡╨╝╤ï ╤Ç╨╡╤ê╨░╤Ä╤é╤ü╤Å ╤ü╨┐╨╡╤å╨╕╨░╨╗╨╕╨╖╨╕╤Ç╨╛╨▓╨░╨╜╨╜╤ï╨╝╨╕ ╨▒╨╕╨▒╨╗╨╕╨╛╤é╨╡╨║╨░╨╝╨╕ ╨▓╤Ç╨╛╨┤╨╡ TanStack Query.

### ╨ƒ╤Ç╨╕╨╝╨╡╤Ç╤ï Server State

- ╨í╨┐╨╕╤ü╨╛╨║ ╨┐╨╛╨╗╤î╨╖╨╛╨▓╨░╤é╨╡╨╗╨╡╨╣
- ╨ö╨░╨╜╨╜╤ï╨╡ ╨┐╤Ç╨╛╤ä╨╕╨╗╤Å
- ╨ƒ╨╛╤ü╤é╤ï ╨╕ ╨║╨╛╨╝╨╝╨╡╨╜╤é╨░╤Ç╨╕╨╕
- ╨ó╨╛╨▓╨░╤Ç╤ï ╨▓ ╨║╨░╤é╨░╨╗╨╛╨│╨╡
- ╨¢╤Ä╨▒╤ï╨╡ ╨┤╨░╨╜╨╜╤ï╨╡ ╤ü API

---

## 52.3. ╨á╨░╨╖╨┤╨╡╨╗╨╡╨╜╨╕╨╡ ╤é╨╕╨┐╨╛╨▓ ╤ü╨╛╤ü╤é╨╛╤Å╨╜╨╕╤Å

### ╨ƒ╤Ç╨░╨▓╨╕╨╗╤î╨╜╨╛╨╡ ╤Ç╨░╨╖╨┤╨╡╨╗╨╡╨╜╨╕╨╡

```tsx
function Dashboard() {
  // Server state (TanStack Query)
  const { data: users } = useUsers()
  const { data: posts } = usePosts()

  // Client state (Zustand)
  const sidebarOpen = useUIStore((state) => state.sidebarOpen)
  const toggleSidebar = useUIStore((state) => state.toggleSidebar)

  // Local state (useState)
  const [selectedTab, setSelectedTab] = useState('overview')

  return (
    <div>
      {sidebarOpen && <Sidebar />}
      {/* ... */}
    </div>
  )
}
```

### ╨Ü╨╛╨│╨┤╨░ ╤ç╤é╨╛ ╨╕╤ü╨┐╨╛╨╗╤î╨╖╨╛╨▓╨░╤é╤î

**Server State ΓåÆ TanStack Query:**

- ╨ö╨░╨╜╨╜╤ï╨╡ ╤ü API
- ╨ó╤Ç╨╡╨▒╤â╤Ä╤é ╨║╨╡╤ê╨╕╤Ç╨╛╨▓╨░╨╜╨╕╤Å
- ╨£╨╛╨│╤â╤é ╤â╤ü╤é╨░╤Ç╨╡╤é╤î
- ╨¥╤â╨╢╨╜╤ï ╤ä╨╛╨╜╨╛╨▓╤ï╨╡ ╨╛╨▒╨╜╨╛╨▓╨╗╨╡╨╜╨╕╤Å

**Client State ΓåÆ Zustand/Context:**

- UI ╤ü╨╛╤ü╤é╨╛╤Å╨╜╨╕╨╡ (╤é╨╡╨╝╨░, ╤ü╨░╨╣╨┤╨▒╨░╤Ç)
- ╨Æ╤Ç╨╡╨╝╨╡╨╜╨╜╨╛╨╡ ╤ü╨╛╤ü╤é╨╛╤Å╨╜╨╕╨╡
- ╨¥╨╡ ╤é╤Ç╨╡╨▒╤â╨╡╤é ╤ü╨╕╨╜╤à╤Ç╨╛╨╜╨╕╨╖╨░╤å╨╕╨╕ ╤ü ╤ü╨╡╤Ç╨▓╨╡╤Ç╨╛╨╝

**Local State ΓåÆ useState:**

- ╨í╨╛╤ü╤é╨╛╤Å╨╜╨╕╨╡ ╨▓╨╜╤â╤é╤Ç╨╕ ╨║╨╛╨╝╨┐╨╛╨╜╨╡╨╜╤é╨░
- ╨¥╨╡ ╤é╤Ç╨╡╨▒╤â╨╡╤é ╨│╨╗╨╛╨▒╨░╨╗╤î╨╜╨╛╨│╨╛ ╨┤╨╛╤ü╤é╤â╨┐╨░
- ╨ƒ╤Ç╨╛╤ü╤é╨░╤Å ╨╗╨╛╨│╨╕╨║╨░

---

## 52.4. ╨ƒ╨╛╤ç╨╡╨╝╤â ╨▓╨░╨╢╨╜╨╛ ╤Ç╨░╨╖╨┤╨╡╨╗╤Å╤é╤î ╤é╨╕╨┐╤ï ╤ü╨╛╤ü╤é╨╛╤Å╨╜╨╕╤Å

╨í╨╝╨╡╤ê╨╕╨▓╨░╨╜╨╕╨╡ Server State ╨╕ Client State ΓÇö ╤ç╨░╤ü╤é╨░╤Å ╨╛╤ê╨╕╨▒╨║╨░, ╨║╨╛╤é╨╛╤Ç╨░╤Å ╨┐╤Ç╨╕╨▓╨╛╨┤╨╕╤é ╨║:

- **╨ö╤â╨▒╨╗╨╕╤Ç╨╛╨▓╨░╨╜╨╕╤Ä ╨╖╨░╨┐╤Ç╨╛╤ü╨╛╨▓** ΓÇö ╨║╨░╨╢╨┤╤ï╨╣ ╨║╨╛╨╝╨┐╨╛╨╜╨╡╨╜╤é ╨╖╨░╨│╤Ç╤â╨╢╨░╨╡╤é ╨┤╨░╨╜╨╜╤ï╨╡ ╨╛╤é╨┤╨╡╨╗╤î╨╜╨╛
- **╨á╨░╤ü╤ü╨╕╨╜╤à╤Ç╨╛╨╜╨╕╨╖╨░╤å╨╕╨╕** ΓÇö ╨╛╨▒╨╜╨╛╨▓╨╗╨╡╨╜╨╕╨╡ ╨▓ ╨╛╨┤╨╜╨╛╨╝ ╨║╨╛╨╝╨┐╨╛╨╜╨╡╨╜╤é╨╡ ╨╜╨╡ ╨╛╤é╤Ç╨░╨╢╨░╨╡╤é╤ü╤Å ╨▓ ╨┤╤Ç╤â╨│╨╛╨╝
- **╨í╨╗╨╛╨╢╨╜╨╛╨╝╤â ╨║╨╛╨┤╤â** ΓÇö ╨┐╤Ç╨╕╤à╨╛╨┤╨╕╤é╤ü╤Å ╨┐╨╕╤ü╨░╤é╤î ╨╝╨╜╨╛╨│╨╛ ╨▒╨╛╨╣╨╗╨╡╤Ç╨┐╨╗╨╡╨╣╤é╨░ ╨┤╨╗╤Å loading/error/retry
- **╨ƒ╨╗╨╛╤à╨╛╨╝╤â UX** ΓÇö ╨╜╨╡╤é ╤ä╨╛╨╜╨╛╨▓╤ï╤à ╨╛╨▒╨╜╨╛╨▓╨╗╨╡╨╜╨╕╨╣ ╨╕ optimistic updates

**╨ƒ╤Ç╨░╨▓╨╕╨╗╤î╨╜╤ï╨╣ ╨┐╨╛╨┤╤à╨╛╨┤:** ╨╕╤ü╨┐╨╛╨╗╤î╨╖╤â╨╣╤é╨╡ TanStack Query ╨┤╨╗╤Å Server State, ╨░ useState/Zustand ╨┤╨╗╤Å Client State. ╨¡╤é╨╛ ╨╛╨▒╨╡╤ü╨┐╨╡╤ç╨╕╨▓╨░╨╡╤é ╨░╨▓╤é╨╛╨╝╨░╤é╨╕╤ç╨╡╤ü╨║╨╛╨╡ ╨║╨╡╤ê╨╕╤Ç╨╛╨▓╨░╨╜╨╕╨╡, ╤ü╨╕╨╜╤à╤Ç╨╛╨╜╨╕╨╖╨░╤å╨╕╤Ä ╨╝╨╡╨╢╨┤╤â ╨║╨╛╨╝╨┐╨╛╨╜╨╡╨╜╤é╨░╨╝╨╕ ╨╕ ╨╝╨╕╨╜╨╕╨╝╤â╨╝ ╨║╨╛╨┤╨░.

---

## 52.5. ╨ô╨╕╨▒╤Ç╨╕╨┤╨╜╤ï╨╡ ╤ü╨╗╤â╤ç╨░╨╕

╨ÿ╨╜╨╛╨│╨┤╨░ ╨┤╨░╨╜╨╜╤ï╨╡ ╨╝╨╛╨│╤â╤é ╨▒╤ï╤é╤î ╨╕ Server, ╨╕ Client State:

### ╨ƒ╤Ç╨╕╨╝╨╡╤Ç: ╤ä╨╕╨╗╤î╤é╤Ç╤ï (╨┐╤Ç╨╛╨╕╨╖╨▓╨╛╨┤╨╜╨╛╨╡ ╤ü╨╛╤ü╤é╨╛╤Å╨╜╨╕╨╡)

╨Æ ╤ü╨╛╨▓╤Ç╨╡╨╝╨╡╨╜╨╜╤ï╤à ╨┐╤Ç╨╕╨╗╨╛╨╢╨╡╨╜╨╕╤Å╤à ╨║╨╗╨╕╨╡╨╜╤é╤ü╨║╨╛╨╡ ╤ü╨╛╤ü╤é╨╛╤Å╨╜╨╕╨╡ ╤ç╨░╤ü╤é╨╛ ╤Å╨▓╨╗╤Å╨╡╤é╤ü╤Å **╨┐╤Ç╨╛╨╕╨╖╨▓╨╛╨┤╨╜╤ï╨╝ ╨╛╤é ╤ü╨╡╤Ç╨▓╨╡╤Ç╨╜╨╛╨│╨╛**. ╨¥╨░╨┐╤Ç╨╕╨╝╨╡╤Ç, ╨╗╨╛╨║╨░╨╗╤î╨╜╤ï╨╣ ╨┐╨╛╨╕╤ü╨║ ╨┐╨╛ ╨║╨╡╤ê╨╕╤Ç╨╛╨▓╨░╨╜╨╜╤ï╨╝ ╨┤╨░╨╜╨╜╤ï╨╝:

```typescript
// Server State: ╤ü╨┐╨╕╤ü╨╛╨║ ╨┐╨╛╨╗╤î╨╖╨╛╨▓╨░╤é╨╡╨╗╨╡╨╣ (╨║╨╡╤ê╨╕╤Ç╤â╨╡╤é╤ü╤Å TanStack Query)
const { data: users } = useUsers()

// Client State: ╤ä╨╕╨╗╤î╤é╤Ç╤ï (╨┐╤Ç╨╕╨╝╨╡╨╜╤Å╤Ä╤é╤ü╤Å ╨╗╨╛╨║╨░╨╗╤î╨╜╨╛ ╨║ ╨║╨╡╤ê╨╕╤Ç╨╛╨▓╨░╨╜╨╜╤ï╨╝ ╨┤╨░╨╜╨╜╤ï╨╝)
const [filter, setFilter] = useState('active')

const filteredUsers = useMemo(() => {
  return users?.filter((user) => user.status === filter) ?? []
}, [users, filter])
```

**╨Æ╨░╨╢╨╜╨╛:** ╤ä╨╕╨╗╤î╤é╤Ç╤ï ╨┐╤Ç╨╕╨╝╨╡╨╜╤Å╤Ä╤é╤ü╤Å ╨║ ╤â╨╢╨╡ ╨╖╨░╨│╤Ç╤â╨╢╨╡╨╜╨╜╤ï╨╝ ╨┤╨░╨╜╨╜╤ï╨╝ ╨╕╨╖ ╨║╨╡╤ê╨░, ╨▒╨╡╨╖ ╨┤╨╛╨┐╨╛╨╗╨╜╨╕╤é╨╡╨╗╤î╨╜╤ï╤à ╨╖╨░╨┐╤Ç╨╛╤ü╨╛╨▓ ╨║ ╤ü╨╡╤Ç╨▓╨╡╤Ç╤â.

### ╨ƒ╤Ç╨╕╨╝╨╡╤Ç: ╤Ç╨╡╨┤╨░╨║╤é╨╕╤Ç╨╛╨▓╨░╨╜╨╕╨╡

```typescript
// Server State: ╨╕╤ü╤à╨╛╨┤╨╜╤ï╨╡ ╨┤╨░╨╜╨╜╤ï╨╡
const { data: user } = useUser(id)

// Client State: ╨╗╨╛╨║╨░╨╗╤î╨╜╤ï╨╡ ╨╕╨╖╨╝╨╡╨╜╨╡╨╜╨╕╤Å (╨┤╨╛ ╤ü╨╛╤à╤Ç╨░╨╜╨╡╨╜╨╕╤Å)
const [editedUser, setEditedUser] = useState(user)

useEffect(() => {
  setEditedUser(user)
}, [user])
```

---

## 52.6. ╨Ü╤Ç╨╕╤é╨╕╤ç╨╡╤ü╨║╨╛╨╡ ╨┐╤Ç╨╡╨┤╨╛╤ü╤é╨╡╤Ç╨╡╨╢╨╡╨╜╨╕╨╡: ╨╜╨╡ ╤ü╨╕╨╜╤à╤Ç╨╛╨╜╨╕╨╖╨╕╤Ç╤â╨╣╤é╨╡ ╨▓╤Ç╤â╤ç╨╜╤â╤Ä

**╨¥╨╕╨║╨╛╨│╨┤╨░ ╨╜╨╡ ╨┐╤ï╤é╨░╨╣╤é╨╡╤ü╤î ╤ü╨╕╨╜╤à╤Ç╨╛╨╜╨╕╨╖╨╕╤Ç╨╛╨▓╨░╤é╤î Server State ╨╕ Client State ╨▓╤Ç╤â╤ç╨╜╤â╤Ä** (╨╜╨░╨┐╤Ç╨╕╨╝╨╡╤Ç, ╨║╨╛╨┐╨╕╤Ç╨╛╨▓╨░╤é╤î ╨┤╨░╨╜╨╜╤ï╨╡ ╨╕╨╖ Query ╨▓ Zustand ╤ç╨╡╤Ç╨╡╨╖ `useEffect`). ╨¡╤é╨╛ ╨╜╨░╤Ç╤â╤ê╨░╨╡╤é ╨┐╤Ç╨╕╨╜╤å╨╕╨┐ **┬½╨╡╨┤╨╕╨╜╤ü╤é╨▓╨╡╨╜╨╜╨╛╨│╨╛ ╨╕╤ü╤é╨╛╤ç╨╜╨╕╨║╨░ ╨┐╤Ç╨░╨▓╨┤╤ï┬╗**.

### Γ¥î ╨ƒ╨╗╨╛╤à╨╛: ╤Ç╤â╤ç╨╜╨░╤Å ╤ü╨╕╨╜╤à╤Ç╨╛╨╜╨╕╨╖╨░╤å╨╕╤Å

```typescript
// ╨₧╨ƒ╨É╨í╨¥╨₧: ╨┤╤â╨▒╨╗╨╕╤Ç╨╛╨▓╨░╨╜╨╕╨╡ ╨┤╨░╨╜╨╜╤ï╤à
const { data: users } = useUsers()

useEffect(() => {
  // ╨Ü╨╛╨┐╨╕╤Ç╤â╨╡╨╝ ╨┤╨░╨╜╨╜╤ï╨╡ ╨╕╨╖ Query ╨▓ Zustand
  useUsersStore.setState({ users })
}, [users])
```

**╨ƒ╤Ç╨╛╨▒╨╗╨╡╨╝╤ï:**
- ╨ö╤â╨▒╨╗╨╕╤Ç╨╛╨▓╨░╨╜╨╕╨╡ ╨┤╨░╨╜╨╜╤ï╤à ╨▓ ╨┐╨░╨╝╤Å╤é╨╕
- ╨á╨╕╤ü╨║ ╤Ç╨░╤ü╤ü╨╕╨╜╤à╤Ç╨╛╨╜╨╕╨╖╨░╤å╨╕╨╕
- ╨¢╨╕╤ê╨╜╨╕╨╡ ╤Ç╨╡╤Ç╨╡╨╜╨┤╨╡╤Ç╤ï
- ╨í╨╗╨╛╨╢╨╜╨╛╤ü╤é╤î ╨┐╨╛╨┤╨┤╨╡╤Ç╨╢╨║╨╕

### Γ£à ╨ƒ╤Ç╨░╨▓╨╕╨╗╤î╨╜╨╛: ╤Ç╨░╨╖╨┤╨╡╨╗╨╡╨╜╨╕╨╡ ╨╛╤é╨▓╨╡╤é╤ü╤é╨▓╨╡╨╜╨╜╨╛╤ü╤é╨╕

```typescript
// Server State: ╨┤╨░╨╜╨╜╤ï╨╡ ╤ü API (TanStack Query)
const { data: users } = useUsers()

// Client State: ╤é╨╛╨╗╤î╨║╨╛ UI-╨╗╨╛╨│╨╕╨║╨░ (Zustand)
const sidebarOpen = useUIStore((state) => state.sidebarOpen)
const toggleSidebar = useUIStore((state) => state.toggleSidebar)

// ╨ÿ╤ü╨┐╨╛╨╗╤î╨╖╤â╨╡╨╝ ╨┤╨░╨╜╨╜╤ï╨╡ ╨╜╨░╨┐╤Ç╤Å╨╝╤â╤Ä ╨╕╨╖ Query
return (
  <div>
    {sidebarOpen && <Sidebar />}
    {users?.map((user) => <UserCard key={user.id} user={user} />)}
  </div>
)
```

**╨ƒ╤Ç╨░╨▓╨╕╨╗╨╛:** Zustand ΓÇö ╨┤╨╗╤Å UI-╨╗╨╛╨│╨╕╨║╨╕ (╤é╨╡╨╝╨░, ╨╝╨╛╨┤╨░╨╗╨║╨╕, ╤ü╨░╨╣╨┤╨▒╨░╤Ç). TanStack Query ΓÇö ╨┤╨╗╤Å ╨║╨╡╤ê╨╕╤Ç╨╛╨▓╨░╨╜╨╕╤Å API. ╨¥╨╡ ╤ü╨╝╨╡╤ê╨╕╨▓╨░╨╣╤é╨╡ ╨╕╤à.

---

## ╨Æ╨╛╨┐╤Ç╨╛╤ü╤ï ╨╜╨░ ╤ü╨╛╨▒╨╡╤ü╨╡╨┤╨╛╨▓╨░╨╜╨╕╨╕

### 1. ╨Æ ╤ç╤æ╨╝ ╤Ç╨░╨╖╨╜╨╕╤å╨░ ╨╝╨╡╨╢╨┤╤â Server State ╨╕ Client State?

Server State ΓÇö ╨░╤ü╨╕╨╜╤à╤Ç╨╛╨╜╨╜╤ï╨╡ ╨┤╨░╨╜╨╜╤ï╨╡ ╤ü ╤ü╨╡╤Ç╨▓╨╡╤Ç╨░, ╨╝╨╛╨│╤â╤é ╤â╤ü╤é╨░╤Ç╨╡╤é╤î, ╤é╤Ç╨╡╨▒╤â╤Ä╤é ╨║╨╡╤ê╨╕╤Ç╨╛╨▓╨░╨╜╨╕╤Å. Client State ΓÇö ╤ü╨╕╨╜╤à╤Ç╨╛╨╜╨╜╨╛╨╡ ╤ü╨╛╤ü╤é╨╛╤Å╨╜╨╕╨╡ ╨┐╤Ç╨╕╨╗╨╛╨╢╨╡╨╜╨╕╤Å, ╨║╨╛╨╜╤é╤Ç╨╛╨╗╨╕╤Ç╤â╨╡╤é╤ü╤Å ╨╜╨░╨╝╨╕, ╨╜╨╡ ╤â╤ü╤é╨░╤Ç╨╡╨▓╨░╨╡╤é.

### 2. ╨ƒ╨╛╤ç╨╡╨╝╤â ╨╜╨╡ ╤ü╤é╨╛╨╕╤é ╨╕╤ü╨┐╨╛╨╗╤î╨╖╨╛╨▓╨░╤é╤î useState ╨┤╨╗╤Å Server State?

╨¥╨╡╤é ╨║╨╡╤ê╨╕╤Ç╨╛╨▓╨░╨╜╨╕╤Å, ╤ü╨╕╨╜╤à╤Ç╨╛╨╜╨╕╨╖╨░╤å╨╕╨╕, ╤ä╨╛╨╜╨╛╨▓╤ï╤à ╨╛╨▒╨╜╨╛╨▓╨╗╨╡╨╜╨╕╨╣, ╨╝╨╜╨╛╨│╨╛ ╨▒╨╛╨╣╨╗╨╡╤Ç╨┐╨╗╨╡╨╣╤é╨░.

### 3. ╨Ü╨░╨║╨╕╨╡ ╨╕╨╜╤ü╤é╤Ç╤â╨╝╨╡╨╜╤é╤ï ╨╕╤ü╨┐╨╛╨╗╤î╨╖╨╛╨▓╨░╤é╤î ╨┤╨╗╤Å Server State?

TanStack Query ΓÇö ╤ü╤é╨░╨╜╨┤╨░╤Ç╤é ╨┤╨╗╤Å ╤â╨┐╤Ç╨░╨▓╨╗╨╡╨╜╨╕╤Å ╤ü╨╡╤Ç╨▓╨╡╤Ç╨╜╤ï╨╝ ╤ü╨╛╤ü╤é╨╛╤Å╨╜╨╕╨╡╨╝.

### 4. ╨Ü╨░╨║╨╕╨╡ ╨╕╨╜╤ü╤é╤Ç╤â╨╝╨╡╨╜╤é╤ï ╨╕╤ü╨┐╨╛╨╗╤î╨╖╨╛╨▓╨░╤é╤î ╨┤╨╗╤Å Client State?

useState ╨┤╨╗╤Å ╨╗╨╛╨║╨░╨╗╤î╨╜╨╛╨│╨╛, Zustand/Context ╨┤╨╗╤Å ╨│╨╗╨╛╨▒╨░╨╗╤î╨╜╨╛╨│╨╛.

### 5. ╨Ü╨╛╨│╨┤╨░ ╨╕╤ü╨┐╨╛╨╗╤î╨╖╨╛╨▓╨░╤é╤î Context API, ╨░ ╨║╨╛╨│╨┤╨░ Zustand?

Context API ╨┤╨╗╤Å ╤Ç╨╡╨┤╨║╨╛ ╨╝╨╡╨╜╤Å╤Ä╤ë╨╕╤à╤ü╤Å ╨┤╨░╨╜╨╜╤ï╤à (╤é╨╡╨╝╨░, ╤Å╨╖╤ï╨║). Zustand ╨┤╨╗╤Å ╤ç╨░╤ü╤é╤ï╤à ╨╛╨▒╨╜╨╛╨▓╨╗╨╡╨╜╨╕╨╣ ╨╕ ╨╗╤â╤ç╤ê╨╡╨╣ ╨┐╤Ç╨╛╨╕╨╖╨▓╨╛╨┤╨╕╤é╨╡╨╗╤î╨╜╨╛╤ü╤é╨╕.
